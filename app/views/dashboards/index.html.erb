<div class="page-header">
  <h2>Dashboard</h2>
</div>

<div class="card-group card border-success mb-3">
  <div class="card">
    <div class="card-header bg-transparent border-success">Contact</div>
    <div class="card-body">

      <ul class="list-unstyled row">
        <li class="list-item col-sm-4">Name:</li>
        <li class="list-item col-sm-8"><%= @company.name %></li>
        <li class="list-item col-sm-4">Address:</li>
        <li class="list-item col-sm-8"><%= @company.address %></li>
        <li class="list-item col-sm-4">City:</li>
        <li class="list-item col-sm-8"><%= @company.city %></li>
        <li class="list-item col-sm-4">State:</li>
        <li class="list-item col-sm-8"><%= @company.state %></li>
        <li class="list-item col-sm-4">Postal code:</li>
        <li class="list-item col-sm-8"><%= @company.zip %></li>
        <li class="list-item col-sm-4">Country:</li>
        <li class="list-item col-sm-8"><%= @company.country %></li>
        <li class="list-item col-sm-4">Phone:</li>
        <li class="list-item col-sm-8"><%= @company.phone %></li>
        <li class="list-item col-sm-4">Email:</li>
        <li class="list-item col-sm-8"><%= @company.email %></li>
        <li class="list-item col-sm-4">Web:</li>
        <li class="list-item col-sm-8"><%= @company.web %></li>
      </ul>

    </div>
  </div>
    <div class="card">
      <div class="card-header bg-transparent border-success">Corporate</div>
      <div class="card-body">

        <table class="table table-striped table-bordered table-hover">
          <thead>
          <tr>
            <th>Domicile</th>
            <th>Domicile number</th>
          </tr>
          </thead>

          <tbody>
          <% @domiciles.each do |domicile| %>
            <tr>
              <td><%= domicile.domicile_locus %></td>
              <td>
              <%= link_to company_domicile_path(@company, domicile) do %><%= domicile.domicile_number %><% end %>
              </td>
            </tr>
          <% end %>
          </tbody>
        </table>

    </div>
  </div>
</div>


<div class="page-header">
  <% if current_user.editor? %>
  <%= link_to new_company_dashboard_path, :class => 'btn btn-primary float-right' do %>
    <span class="fa fa-plus "></span>
    New Action
  <% end %>
  <% end %>
  <br/>
  <h3>Annual Actions</h3>
  <div style="float:right">
    <%= form_tag({:controller => "dashboards", :action => "index"}, :method => "get")  do %>
      <%= select_tag "filter", options_for_select(["Annual", "Archive" ], params[:filter]), {:onchange => 'this.form.submit()'}  %>
    <% end %>
  </div>
</div>

<div class="table-responsive-lg">
  <table role='datatable' id="dashboardsTable" class="table table-striped table-bordered table-hover table-sm">
    <thead>
      <tr>
            <th>Description</th>
            <th>Contact</th>
            <th>Notes</th>
            <th>Deadline</th>
            <th>Completed</th>
            <th></th>
      </tr>
    </thead>
    <tbody>
      <% @dashboards.each do |dashboard| %>
<tr>
            <td><%= dashboard.description %></td>
            <td><%= dashboard.contact %></td>
            <td><%= dashboard.notes %></td>
            <td><%= dashboard.deadline %></td>
            <td><%= dashboard.completed %></td>
            <td>
              <%= link_to company_dashboard_path(@company, dashboard) do %>
                  <span class="fa fa-search"></span>
              <% end %>
            </td>
      <% end %>
      </tr>
    </tbody>
  </table>
</div>


<div class="page-header">
  <% if current_user.editor? %>
  <%= link_to new_company_dashboard_path, :class => 'btn btn-primary float-right' do %>
    <span class="fa fa-plus "></span>
    New Action
  <% end %>
  <% end %>
</div>

<br/><br/><br/>

<div class="card-group card border-success mb-3">
  <div class="card">
    <div class="card-header bg-transparent border-success">Agent</div>
    <div class="card-body">

      <table class="table table-hover">
        <% @domiciles.each do |domicile| %>
          <tr>
          <td><%= domicile.domicile_locus %>:</td>
          <td><%= domicile.agent %></td>
          </tr>
        <% end %>
      </table>
  </div>
  </div>

  <div class="card">
    <div class="card-header bg-transparent border-success">Officers</div>
    <div class="card-body">

      <table class="table table-hover">
        <% @officers.each do |officer| %>
          <tr>
          <td><%= officer.title %>:</td>
          <td><%= officer.person.first_name + " " + officer.person.last_name %></td>
          </tr>
        <% end %>
      </table>

    </div>
  </div>

  <div class="card">
    <div class="card-header bg-transparent border-success">Directors</div>
    <div class="card-body">

      <table class="table table-hover">
        <% @directors.each do |director| %>
          <tr>
          <td><%= director.person.first_name + " " + director.person.last_name %></td>
          </tr>
        <% end %>
      </table>

  </div>
  </div>

</div>